(window.webpackJsonp=window.webpackJsonp||[]).push([[0,4,5,6,7,8],{288:function(t,e,n){var content=n(290);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(109).default)("223fdcbd",content,!0,{sourceMap:!1})},289:function(t,e,n){"use strict";n(288)},290:function(t,e,n){var o=n(108)(!1);o.push([t.i,".pagination{position:relative;margin:30px 0 10px}.pagination,.pagination_item{display:flex;justify-content:center;align-items:center}.pagination_item{margin:0 4px;padding:0 4px;font-size:.8rem;font-weight:700;text-decoration:none;width:40px;height:30px}.pagination_item__number{font-size:1rem;width:25px}.pagination_item__number.nuxt-link-exact-active{pointer-events:none;color:#2a3741}.pagination_item__disabled{opacity:.5;pointer-events:none}",""]),t.exports=o},291:function(t,e,n){"use strict";n.r(e);n(30),n(14);var o={name:"TodosFilter",props:{isDisabled:{type:Boolean,default:!1}},computed:{title:{get:function(){return this.$store.state.todos.filter.title},set:function(t){this.$store.commit("todos/filter",{field:"title",value:t})}}}},r=n(46),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"todos-filter"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"todos-filter_input",attrs:{type:"text",placeholder:"Filter by title",disabled:t.isDisabled},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})])}),[],!1,null,null,null);e.default=component.exports},292:function(t,e,n){"use strict";n.r(e);n(41);var o={name:"TodosItem",props:{todo:{type:Object,required:!0}},computed:{isUser:function(){return Boolean(this.$route.query.userId)}}},r=n(46),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"todos-item"},[e("div",{class:["todos-item_status",{"todos-item_status__completed":t.todo.completed}]},[t.todo.completed?e("i",{staticClass:"fa-regular fa-circle-check"}):e("i",{staticClass:"fa-regular fa-circle"})]),t._v(" "),e("div",{staticClass:"todos-item_content"},[e("div",{staticClass:"todos-item_title"},[t._v(t._s(t.todo.title))]),t._v(" "),t.isUser?t._e():e("div",{staticClass:"todos-item_author"},[t._v("\n            by\n            "),e("nuxt-link",{attrs:{to:{query:{userId:t.todo.userId}}}},[e("b",[t._v(t._s(t.todo.user.name))])])],1)])])}),[],!1,null,null,null);e.default=component.exports},293:function(t,e,n){"use strict";n.r(e);n(40),n(31),n(30),n(14),n(63),n(32),n(64);var o=n(27);function r(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?r(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):r(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var c={name:"PaginationComponent",props:{pagination:{type:Object,required:!0}},computed:{previousPage:function(){return this.pagination.current-1<1?void 0:this.pagination.current-1},nextPage:function(){return this.pagination.current+1>this.pagination.last?void 0:this.pagination.current+1},firstPage:function(){return this.pagination.current>1?"/":void 0},lastPage:function(){return this.pagination.current>=this.pagination.last?void 0:this.pagination.last},pages:function(){var t=[this.pagination.current];return this.pagination.current-1>=1&&t.unshift(this.pagination.current-1),this.pagination.current+1<=this.pagination.last&&t.push(this.pagination.current+1),t.length<3&&this.pagination.current+2<=this.pagination.last&&t.push(this.pagination.current+2),t.length<3&&this.pagination.current-2>1&&t.unshift(this.pagination.current-2),t}}},d=(n(289),n(46)),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"pagination"},[e("nuxt-link",{class:["pagination_item",{pagination_item__disabled:!t.firstPage}],attrs:{to:{query:l(l({},t.$route.query),{},{page:void 0})}}},[t._v("\n        First\n    ")]),t._v(" "),e("nuxt-link",{class:["pagination_item",{pagination_item__disabled:!t.previousPage}],attrs:{to:{query:l(l({},t.$route.query),{},{page:t.previousPage<=1?void 0:t.previousPage})}}},[t._v("\n        Prev\n    ")]),t._v(" "),t._l(t.pages,(function(n,r){return e("nuxt-link",{key:r,class:["pagination_item","pagination_item__number",Object(o.a)({},t.$router.options.linkExactActiveClass,1===n&&void 0===t.$route.query.page)],attrs:{to:{query:l(l({},t.$route.query),{},{page:n>1?n:void 0})}}},[t._v("\n        "+t._s(n)+"\n    ")])})),t._v(" "),e("nuxt-link",{class:["pagination_item",{pagination_item__disabled:!t.nextPage}],attrs:{to:{query:l(l({},t.$route.query),{},{page:t.nextPage})}}},[t._v("\n        Next\n    ")]),t._v(" "),e("nuxt-link",{class:["pagination_item",{pagination_item__disabled:!t.lastPage}],attrs:{to:{query:l(l({},t.$route.query),{},{page:t.lastPage})}}},[t._v("\n        Last\n    ")])],2)}),[],!1,null,null,null);e.default=component.exports},295:function(t,e,n){var content=n(315);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(109).default)("c60280a4",content,!0,{sourceMap:!1})},296:function(t,e,n){"use strict";n.r(e);n(41),n(40);var o={name:"TodosHeader",props:{state:{type:Object,default:function(){return{}}},user:{type:Object,default:function(){return{}}}},computed:{isUser:function(){return Boolean(Object.keys(this.user).length)}}},r=n(46),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"todos_header"},[e("div",[e("nuxt-link",{staticClass:"todos_header-logo",attrs:{to:"/"}},[t._v("TODO'S")]),t._v(" "),t.isUser?e("div",{staticClass:"todos_header-author"},[t._v("\n            by "),e("b",[t._v(t._s(t.user.name))])]):t._e()],1),t._v(" "),e("TodosFilter",{attrs:{"is-disabled":Boolean(t.state.error)}})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{TodosFilter:n(291).default})},297:function(t,e,n){"use strict";n.r(e);n(30),n(14);var o={name:"TodosList",props:{state:{type:Object,default:function(){return{}}},loading:{type:Boolean,default:!1},filter:{type:Object,default:function(){return{}}},todos:{type:Array,required:!0},pagination:{type:Object,required:!0}},computed:{isUser:function(){return Boolean(this.$route.query.userId)}}},r=n(46),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"todos-list"},[e("LoaderIndicator",{attrs:{"is-loading":t.loading&&!t.state.error,"is-absolute":""}}),t._v(" "),t.loading||t.todos.length?t._e():e("div",{staticClass:"todos_empty"},[t._v("\n            There are no todo's\n            "),t.filter.title?e("span",[t._v("with keyword "),e("b",[t._v(t._s(t.filter.title))])]):t._e()]),t._v(" "),t._l(t.todos,(function(t){return e("TodosItem",{key:t.id,attrs:{todo:t}})}))],2),t._v(" "),t.state.error?t._e():e("Pagination",{attrs:{pagination:t.pagination}})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{LoaderIndicator:n(137).default,TodosItem:n(292).default,Pagination:n(293).default})},314:function(t,e,n){"use strict";n(295)},315:function(t,e,n){var o=n(108)(!1);o.push([t.i,".todos{position:relative}.todos_header{display:flex;align-items:center;justify-content:space-between;margin-bottom:30px}.todos_header-logo{font-size:2rem;font-weight:700;color:#1a1a1a}.todos_header-author{margin-top:5px;font-size:1.2rem}.todos_empty{margin:30px 0;padding:10px 0;font-size:1rem}.todos-filter{padding-left:20px}.todos-filter_input{min-width:200px;display:block;border-radius:5px;border:2px solid #cacaca;height:40px;width:100%;padding:0 15px;font-size:1rem;outline:none}.todos-filter_input:focus{border-color:#007cdb}.todos-list{position:relative;min-height:60px}.todos-item{display:flex;align-items:stretch;margin:15px 0;padding-bottom:15px;border-bottom:1px solid #e1e1e1}.todos-item_status{display:flex;align-items:center;min-width:50px;font-size:2rem;color:#007cdb}.todos-item_status__completed{color:#13ca13}.todos-item_content{display:flex;flex-direction:column;width:100%}.todos-item_title{display:flex;font-size:1rem;flex-grow:1;align-items:center}.todos-item_author{color:#787878;font-size:.8rem;margin-top:auto;padding-top:15px}",""]),t.exports=o},316:function(t,e,n){"use strict";n.r(e);n(30),n(14),n(40),n(31),n(63),n(32),n(64);var o=n(27),r=n(23),l=n(12),c=(n(65),n(298),n(135),n(47),n(201),n(83),n(25),n(66),n(35),n(36),n(302),n(305),n(111),n(306)),d=n.n(c);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h={name:"TodosComponent",data:function(){return{timer:null,loading:!1,usersData:[],todosData:[],pagination:{limit:25,current:1,last:1}}},fetch:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n,o,l,c,f,h,_,v,y,x,O;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.pagination.current=Number(t.$route.query.page||1),n="?".concat(Object.entries({_page:t.pagination.current,_limit:t.pagination.limit,title_like:t.filter.title,userId:t.$route.query.userId}).filter((function(t){return t[1]})).map((function(t){var e=Object(r.a)(t,2),n=e[0],o=e[1];return"".concat(n,"=").concat(o)})).join("&")),o=t.$axios.get("https://jsonplaceholder.typicode.com/todos".concat(n)),l=t.$axios.get("https://jsonplaceholder.typicode.com/users"),t.$route.query.page<=1&&t.$router.replace({query:m(m({},t.$route.query),{},{page:void 0})}),e.prev=5,e.next=8,Promise.all([l,o]);case 8:c=e.sent,f=Object(r.a)(c,2),h=f[0].data,_=f[1],v=_.data,y=_.headers.link,t.usersData=h,t.todosData=v,y?(x=d()(y),O=x.last._page,t.pagination.last=Number(O)):t.pagination.last=1,e.next=22;break;case 19:throw e.prev=19,e.t0=e.catch(5),new Error(e.t0.message);case 22:t.loading=!1;case 23:case"end":return e.stop()}}),e,null,[[5,19]])})))()},fetchOnServer:!1,computed:{filter:function(){return this.$store.state.todos.filter},todos:function(){var t=this;return this.todosData.length?this.todosData.map((function(e){return e.user=t.usersData.find((function(t){return t.id===e.userId})),e})):[]},user:function(){var t=this;return this.usersData.find((function(e){return e.id===Number(t.$route.query.userId)}))}},watch:{"filter.title":{handler:function(){var t=this;this.$route.query.page&&this.$route.query.page!==this.pagination.current?this.$router.replace({query:m(m({},this.$router.query),{},{page:void 0})}):(this.loading=!0,clearTimeout(this.timer),this.timer=setTimeout((function(){t.$fetch()}),300))},immediate:!0},"$route.query":{handler:function(){var t=this;window.scrollTo({top:0,behavior:"smooth"}),this.loading=!0,clearTimeout(this.timer),this.timer=setTimeout((function(){t.$fetch()}),300)},deep:!0}}},_=(n(314),n(46)),component=Object(_.a)(h,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"todos"},[e("TodosHeader",{attrs:{state:t.$fetchState,user:t.user}}),t._v(" "),t.$fetchState.error?e("div",{staticClass:"error"},[t._v("\n        "+t._s(t.$fetchState.error.message)+"\n    ")]):t._e(),t._v(" "),e("TodosList",{attrs:{state:t.$fetchState,loading:t.loading,filter:t.filter,todos:t.todos,pagination:t.pagination}})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{TodosHeader:n(296).default,TodosList:n(297).default})}}]);